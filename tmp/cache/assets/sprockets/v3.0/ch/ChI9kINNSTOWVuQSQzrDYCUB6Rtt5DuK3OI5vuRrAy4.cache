I"ò(function() {
  RecordManagerApp.Views.RecordItemView = Backbone.View.extend({
    template: JST["backbone/templates/record_item"],
    tagName: 'tr',
    initialize: function() {
      return this.listenTo(this.model, 'destroy', this.remove);
    },
    events: {
      'click .delete-record': 'deleteRecord',
      'click .edit-record': 'editRecord',
      'click .save-record': 'saveRecord'
    },
    render: function() {
      this.$el.html(this.template({
        title: this.model.get('title'),
        artist: this.model.get('artist'),
        year: this.model.get('year'),
        condition: this.model.get('condition'),
        id: this.model.get('id')
      }));
      this.$('#record-edit-condition').hide();
      return this;
    },
    updateTask: function(e) {
      var fieldId;
      fieldId = e.target.getAttribute('id');
      if ($("#" + fieldId).is(':checked')) {
        this.model.save({
          status: 'complete'
        });
        return this.$(".todo-item-display").addClass('complete');
      } else {
        this.model.save({
          status: 'new'
        });
        return this.$(".todo-item-display").removeClass('complete');
      }
    },
    deleteRecord: function() {
      return this.model.destroy();
    },
    editRecord: function() {
      console.log("in edit");
      $('.edit-record').html('Save');
      $('.edit-record').addClass('save-record');
      $('.record-item-display').hide();
      $('.record-edit').attr('type', 'text');
      return this.$("#record-title-edit-" + this.model.get('id')).val(this.model.get('title'));
    },
    saveRecord: function() {
      var artist, title, year;
      console.log('in save');
      title = this.$("#record-title-edit-" + this.model.get('id')).val();
      artist = this.$("#record-artist-edit-" + this.model.get('id')).val();
      year = this.$("#record-year-edit-" + this.model.get('id')).val();
      return this.model.save({
        title: title,
        artist: artist,
        year: year
      });
    }
  });

}).call(this);
:ET